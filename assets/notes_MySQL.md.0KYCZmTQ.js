import{_ as s,o as i,c as a,R as t}from"./chunks/framework.FghLVCew.js";const F=JSON.parse('{"title":"MySQL 学习笔记","description":"","frontmatter":{},"headers":[],"relativePath":"notes/MySQL.md","filePath":"notes/MySQL.md"}'),l={name:"notes/MySQL.md"},h=t('<h1 id="mysql-学习笔记" tabindex="-1">MySQL 学习笔记 <a class="header-anchor" href="#mysql-学习笔记" aria-label="Permalink to &quot;MySQL 学习笔记&quot;">​</a></h1><h2 id="sql" tabindex="-1">SQL <a class="header-anchor" href="#sql" aria-label="Permalink to &quot;SQL&quot;">​</a></h2><table><thead><tr><th>分类</th><th style="text-align:left;">全称</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td>DDL</td><td style="text-align:left;">Data Definition Language</td><td style="text-align:left;">数据定义语言，用来定义数据库对象（数据库、表、字段）</td></tr><tr><td>DML</td><td style="text-align:left;">Data Manipulation Language</td><td style="text-align:left;">数据操作语言，用来对数据库表中的数据进行增删改</td></tr><tr><td>DQL</td><td style="text-align:left;">Data Query Language</td><td style="text-align:left;">数据查询语句，用来查询数据空中表的记录</td></tr><tr><td>DCL</td><td style="text-align:left;">Data Control Language</td><td style="text-align:left;">数据控制语句，用来创建数据库用户、控制数据库访问权限</td></tr></tbody></table><h2 id="ddl-数据库操作" tabindex="-1">DDL-数据库操作 <a class="header-anchor" href="#ddl-数据库操作" aria-label="Permalink to &quot;DDL-数据库操作&quot;">​</a></h2><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 查询</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SHOW DATABASES;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 创建</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> DATABASE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [IF NOT EXISITS] </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`database_name`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [DEFAULT CHARSET `charset`] [COLLATE `collate`];</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 删除</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DROP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> DATABASE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [IF EXISTS] </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`database_name`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 使用</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">USE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `database_name`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><h2 id="ddl-表操作-查询" tabindex="-1">DDL-表操作-查询 <a class="header-anchor" href="#ddl-表操作-查询" aria-label="Permalink to &quot;DDL-表操作-查询&quot;">​</a></h2><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SHOW TABLES;                     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 查询当前数据库所有表</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SHOW </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `table_name`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 查询建表语句</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DESC</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `table_name`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;               </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 查询表结构</span></span></code></pre></div><h2 id="ddl-表操作-创建" tabindex="-1">DDL-表操作-创建 <a class="header-anchor" href="#ddl-表操作-创建" aria-label="Permalink to &quot;DDL-表操作-创建&quot;">​</a></h2><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> `</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">table_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">` (</span></span>\n<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `field_1`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DATA_TYPE [COMMENT `field_1_comment`],</span></span>\n<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `field_2`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DATA_TYPE [COMMENT `field_2_comment`],</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ...,</span></span>\n<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `field_n`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DATA_TYPE [COMMENT `field_n_comment`]</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) [COMMENT `table_comment`];</span></span></code></pre></div><h2 id="ddl-表操作-数据类型" tabindex="-1">DDL-表操作-数据类型 <a class="header-anchor" href="#ddl-表操作-数据类型" aria-label="Permalink to &quot;DDL-表操作-数据类型&quot;">​</a></h2><table><thead><tr><th>分类</th><th>类型</th><th>大小</th><th>描述</th></tr></thead><tbody><tr><td rowspan="7">数值类型</td><td>TINYINT</td><td>1 byte</td><td></td></tr><tr><td>SMALLINT</td><td>2 bytes</td><td></td></tr><tr><td>MEDIUMINT</td><td>3 bytes</td><td></td></tr><tr><td>INT / INTEGER</td><td>4 bytes</td><td></td></tr><tr><td>BIGINT</td><td>8 bytes</td><td></td></tr><tr><td>FLOAT</td><td>4 bytes</td><td></td></tr><tr><td>DOUBLE</td><td>8 bytes</td><td></td></tr><tr><td rowspan="10">字符串类型</td><td>CHAR</td><td>0 ~ 255 bytes</td><td>定长字符串</td></tr><tr><td>VARCHAR</td><td>0 ~ 65535 bytes</td><td>变长字符串</td></tr><tr><td>TINYBLOB</td><td>0 ~ 255 bytes</td><td></td></tr><tr><td>TINYTEXT</td><td>0 ~ 255 bytes</td><td></td></tr><tr><td>BLOB</td><td>0 ~ 65535 bytes</td><td>二进制的长文本数据</td></tr><tr><td>TEXT</td><td>0 ~ 65535 bytes</td><td>长文本数据</td></tr><tr><td>MEDIUMBLOB</td><td>0 ~ 16777215 bytes</td><td></td></tr><tr><td>MEDIUMTEXT</td><td>0 ~ 16777215 bytes</td><td></td></tr><tr><td>LONGBLOB</td><td>0 ~ 4294967295 bytes</td><td>二进制形式的极大文本数据</td></tr><tr><td>LONGTEXT</td><td>0 ~ 4294967295 bytes</td><td>极大文本数据</td></tr></tbody></table><h2 id="ddl-表操作-修改" tabindex="-1">DDL-表操作-修改 <a class="header-anchor" href="#ddl-表操作-修改" aria-label="Permalink to &quot;DDL-表操作-修改&quot;">​</a></h2><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 添加字段</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `table_name`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ADD</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `field`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TYPE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [COMMENT `field_comment`];</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 修改字段类型</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `table_name`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> MODIFY</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `field`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TYPE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 修改字段名和类型</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `table_name`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CHANGE </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`field`</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `new_field`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TYPE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [COMMENT `field_comment`];</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 删除字段</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `table_name`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> DROP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `field`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 修改表名</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `table_name`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> RENAME </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TO</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `new_table_name`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 删除表</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DROP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [IF EXISTS] </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`table_name`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 删除并重建表</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TRUNCATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `table_name`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><div class="danger custom-block"><p class="custom-block-title">DANGER</p><p>使用 <code>TRUNCATE TABLE table_name</code>，表中数据会被清空</p></div><h2 id="dml-插入数据" tabindex="-1">DML-插入数据 <a class="header-anchor" href="#dml-插入数据" aria-label="Permalink to &quot;DML-插入数据&quot;">​</a></h2><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 给全部字段添加数据</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INSERT INTO</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `table_name`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> VALUE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`value_1`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`value_2`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ...);</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 给指定字段添加数据</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INSERT INTO</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `table_name`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`field_1`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`field_2`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ...) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">VALUE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`value_1`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`value_2`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ...);</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 批量添加</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INSERT INTO</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `table_name`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> VALUES</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`field_1`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`field_2`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ...), (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`value_1`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`value_2`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ...), ...;</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INSERT INTO</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `table_name`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`field_1`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`field_2`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ...) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">VALUES</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`value_1`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`value_2`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ...), (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`value_1`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`value_2`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ...), ...;</span></span></code></pre></div><h2 id="dml-修改数据" tabindex="-1">DML-修改数据 <a class="header-anchor" href="#dml-修改数据" aria-label="Permalink to &quot;DML-修改数据&quot;">​</a></h2><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">UPDATE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `table_name`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> SET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `field_1`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`value_1`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`field_2`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`value_2`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ... [WHERE ...];</span></span></code></pre></div><h2 id="dml-删除数据" tabindex="-1">DML-删除数据 <a class="header-anchor" href="#dml-删除数据" aria-label="Permalink to &quot;DML-删除数据&quot;">​</a></h2><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DELETE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `table_name`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [WHERE ...];</span></span></code></pre></div><h2 id="dql-基础查询" tabindex="-1">DQL-基础查询 <a class="header-anchor" href="#dql-基础查询" aria-label="Permalink to &quot;DQL-基础查询&quot;">​</a></h2><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `field_1`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> AS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `alias_1`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`field_2`</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `alias_2`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `table_name`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- AS可省略</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `table_name`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT DISTINCT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `table_name`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 去重</span></span></code></pre></div><h2 id="dql-条件查询" tabindex="-1">DQL-条件查询 <a class="header-anchor" href="#dql-条件查询" aria-label="Permalink to &quot;DQL-条件查询&quot;">​</a></h2><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `field`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `table_name`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ...;</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>使用 <code>WHERE BETWEEN a AND b</code> 时，<code>a</code> 应当小于 <code>b</code></p></div><h2 id="dql-聚合函数" tabindex="-1">DQL-聚合函数 <a class="header-anchor" href="#dql-聚合函数" aria-label="Permalink to &quot;DQL-聚合函数&quot;">​</a></h2><table><thead><tr><th>函数</th><th>作用</th></tr></thead><tbody><tr><td>COUNT</td><td>统计数量</td></tr><tr><td>MAX</td><td>最大值</td></tr><tr><td>MIN</td><td>最小值</td></tr><tr><td>AVG</td><td>平均值</td></tr><tr><td>SUM</td><td>求和</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><code>NULL</code> 不参与聚合运算</p></div><h2 id="dql-分组查询" tabindex="-1">DQL-分组查询 <a class="header-anchor" href="#dql-分组查询" aria-label="Permalink to &quot;DQL-分组查询&quot;">​</a></h2><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `table_name`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [WHERE ...] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GROUP BY</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `field`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [HAVING ...];</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 例：查询 tb_user 中各地区三十岁以下用户数量大于 3 的所有地区</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `address`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">COUNT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `user_num`</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `tb_user`</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `age`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 30</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GROUP BY</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `address`</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">HAVING</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `user_num`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><code>WHERE</code> 与 <code>HAVING</code> 的区别：</p><ul><li>执行时机不同：<code>WHERE</code> 分组前进行过滤，不满足条件的数据不参与分组；<code>HAVING</code> 是分组后对结果进行过滤。</li><li>判断条件不同：<code>WHERE</code> 不能对聚合函数判断，而 <code>HAVING</code> 可以。</li></ul></div><h2 id="dql-排序查询" tabindex="-1">DQL-排序查询 <a class="header-anchor" href="#dql-排序查询" aria-label="Permalink to &quot;DQL-排序查询&quot;">​</a></h2><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `table_name`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ORDER BY</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `field`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ASC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 升序，默认值</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `table_name`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ORDER BY</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `field`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> DESC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 降序</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `table_name`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ORDER BY</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `field_1`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ASC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`field_2`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> DESC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 先对字段1进行升序排序，如果值相同则按字段2降序排序</span></span></code></pre></div><h2 id="dql-分页查询" tabindex="-1">DQL-分页查询 <a class="header-anchor" href="#dql-分页查询" aria-label="Permalink to &quot;DQL-分页查询&quot;">​</a></h2><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `table_name`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> LIMIT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> page_num </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, page_size;</span></span></code></pre></div><h2 id="dql-执行顺序" tabindex="-1">DQL-执行顺序 <a class="header-anchor" href="#dql-执行顺序" aria-label="Permalink to &quot;DQL-执行顺序&quot;">​</a></h2><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `addr`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">COUNT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)               </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 4</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `tb_user`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> AS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `user`</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">              -- 1</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `age`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> BETWEEN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 20</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> AND</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 40</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">         -- 2</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GROUP BY</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `addr`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> HAVING</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> COUNT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  -- 3</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ORDER BY</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> COUNT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DESC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`addr`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ASC</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    -- 5</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">LIMIT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                           -- 6</span></span></code></pre></div><h2 id="函数-字符串" tabindex="-1">函数-字符串 <a class="header-anchor" href="#函数-字符串" aria-label="Permalink to &quot;函数-字符串&quot;">​</a></h2><table><thead><tr><th>函数</th><th>功能</th></tr></thead><tbody><tr><td><code>CONCAT(S1, S2, ..., Sn)</code></td><td>字符串拼接，将 <code>S1, S2, ..., Sn</code> 拼接成一个字符串</td></tr><tr><td><code>LOWER(str)</code></td><td>将字符串 <code>str</code> 转小写</td></tr><tr><td><code>UPPER(str)</code></td><td>将字符串 <code>str</code> 转大写</td></tr><tr><td><code>TRIM(str)</code></td><td>去掉字符串 <code>str</code> 首尾的空格</td></tr><tr><td><code>SUBSTRING(str, start, len)</code></td><td>返回字符串 <code>str</code> 从 <code>start</code> 开始的 <code>len</code> 长度的字符子串</td></tr><tr><td><code>LPAD(str, n, pad)</code></td><td>左填充，用字符串 <code>pad</code> 在 <code>str</code> 左边填充，直到 <code>str</code> 长度达到 <code>n</code></td></tr><tr><td><code>RPAD(str, n, pad)</code></td><td>右填充，用字符串 <code>pad</code> 在 <code>str</code> 右边填充，直到 <code>str</code> 长度达到 <code>n</code></td></tr></tbody></table><h2 id="函数-数值" tabindex="-1">函数-数值 <a class="header-anchor" href="#函数-数值" aria-label="Permalink to &quot;函数-数值&quot;">​</a></h2><table><thead><tr><th>函数</th><th>功能</th></tr></thead><tbody><tr><td><code>CEIL(x)</code></td><td>向上取整</td></tr><tr><td><code>FLOOR(x)</code></td><td>向下取整</td></tr><tr><td><code>MOD(x, y)</code></td><td>返回 <code>x / y</code> 的模</td></tr><tr><td><code>RAND()</code></td><td>返回 0 ~ 1 内的随机数</td></tr><tr><td><code>ROUND(x, y)</code></td><td>返回 <code>x</code> 的四舍五入值，保留 <code>y</code> 位小数</td></tr></tbody></table><h2 id="函数-流程" tabindex="-1">函数-流程 <a class="header-anchor" href="#函数-流程" aria-label="Permalink to &quot;函数-流程&quot;">​</a></h2><table><thead><tr><th>函数</th><th>功能</th></tr></thead><tbody><tr><td><code>IF(expr1, expr2, expr3)</code></td><td>如果 <code>expr1 = TRUE</code>，则返回 <code>expr2</code>，否则返回 <code>expr3</code></td></tr><tr><td><code>IFNULL(expr1, expr2)</code></td><td>如果 <code>expr1 IS NOT NULL</code>，则返回 <code>expr1</code>，否则返回 <code>expr2</code></td></tr><tr><td><code>CASE WHEN val THEN res ELSE default END</code></td><td>如果 <code>val = TRUE</code>，则返回 <code>res</code>，否则返回 <code>default</code></td></tr><tr><td><code>CASE t WHEN val THEN res ELSE default END</code></td><td>如果 <code>t = val</code>，则返回 <code>res</code>，否则返回 <code>default</code></td></tr></tbody></table><h2 id="约束" tabindex="-1">约束 <a class="header-anchor" href="#约束" aria-label="Permalink to &quot;约束&quot;">​</a></h2><table><thead><tr><th>约束</th><th>描述</th><th>关键字</th></tr></thead><tbody><tr><td>非空约束</td><td>字段值不能为 <code>NULL</code></td><td><code>NOT NULL</code></td></tr><tr><td>唯一约束</td><td>保证该字段的所有值都是不重复的</td><td><code>UNIQUE</code></td></tr><tr><td>主键约束</td><td>主键是一行数据的唯一标识，非空且唯一</td><td><code>PRIMART KEY</code></td></tr><tr><td>默认约束</td><td>插入数据时如未指定该字段值，则采用默认值</td><td><code>DEFAULT</code></td></tr><tr><td>检查约束</td><td>保证字段值满足条件 (MySQL8新特性)</td><td><code>CHECK</code></td></tr></tbody></table>',45),n=[h];function e(k,d,p,r,E,g){return i(),a("div",null,n)}const y=s(l,[["render",e]]);export{F as __pageData,y as default};
